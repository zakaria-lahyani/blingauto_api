# =============================================================================
# BlingAuto API - Pre-Production Environment Configuration
# =============================================================================

# -------------------------
# Application Configuration
# -------------------------
ENVIRONMENT=staging
APP_NAME=BlingAuto API - Pre-Production
APP_VERSION=1.0.0
DEBUG=false

# -------------------------
# Server Configuration
# -------------------------
HOST=0.0.0.0
PORT=8000
WORKERS=4

# -------------------------
# Database Configuration (PostgreSQL)
# -------------------------
POSTGRES_DB=blingauto_preprod
POSTGRES_USER=blingauto_preprod
POSTGRES_PASSWORD=CHANGE_THIS_IN_PRODUCTION_PREPROD_DB_PASSWORD
POSTGRES_PORT=5432

DATABASE_URL=postgresql+asyncpg://blingauto_preprod:CHANGE_THIS_IN_PRODUCTION_PREPROD_DB_PASSWORD@postgres:5432/blingauto_preprod

# Database Pool Settings
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_TIMEOUT=30
DATABASE_ECHO=false

# -------------------------
# Redis Configuration
# -------------------------
REDIS_PASSWORD=CHANGE_THIS_IN_PRODUCTION_PREPROD_REDIS_PASSWORD
REDIS_PORT=6379
REDIS_URL=redis://:CHANGE_THIS_IN_PRODUCTION_PREPROD_REDIS_PASSWORD@redis:6379/0
REDIS_MAX_CONNECTIONS=20
REDIS_TTL=300

# -------------------------
# Security Configuration
# -------------------------
# IMPORTANT: Generate with: python -c "import secrets; print(secrets.token_urlsafe(64))"
SECRET_KEY=CHANGE_THIS_IN_PRODUCTION_PREPROD_SECRET_KEY_USE_PYTHON_SECRETS

# JWT Configuration
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7
PASSWORD_RESET_TOKEN_EXPIRE_HOURS=1
EMAIL_VERIFICATION_TOKEN_EXPIRE_HOURS=24

# Account Security
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=30
PASSWORD_MIN_LENGTH=8
PASSWORD_MAX_LENGTH=128

# -------------------------
# Initial Admin User
# -------------------------
INITIAL_ADMIN_EMAIL=admin@preprod.blingauto.com
INITIAL_ADMIN_PASSWORD=CHANGE_THIS_ADMIN_PASSWORD_IN_PREPROD
INITIAL_ADMIN_FIRST_NAME=Admin
INITIAL_ADMIN_LAST_NAME=PreProd

# -------------------------
# Email Configuration (Optional)
# -------------------------
# Configure SMTP for email notifications
SMTP_HOST=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@preprod.blingauto.com
SMTP_FROM_NAME=BlingAuto PreProd
SMTP_USE_TLS=true

# Frontend URL
FRONTEND_URL=https://preprod.blingauto.com

# -------------------------
# CORS Configuration
# -------------------------
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,https://preprod.blingauto.com
CORS_ALLOW_CREDENTIALS=true

# -------------------------
# Rate Limiting
# -------------------------
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_REQUESTS_PER_HOUR=1000

# -------------------------
# Logging Configuration
# -------------------------
LOG_LEVEL=INFO

# -------------------------
# Business Rules Configuration
# -------------------------
MAX_SERVICES_PER_BOOKING=10
MIN_BOOKING_DURATION_MINUTES=30
MAX_BOOKING_DURATION_MINUTES=240
MAX_BOOKING_ADVANCE_DAYS=90
MIN_BOOKING_ADVANCE_HOURS=2
BOOKING_SLOT_DURATION_MINUTES=30
BOOKING_BUFFER_MINUTES=15

# =============================================================================
# PREPROD DEPLOYMENT NOTES
# =============================================================================
# This is a PRE-PRODUCTION environment template
#
# BEFORE DEPLOYING:
# 1. Generate secure credentials:
#    - SECRET_KEY: python -c "import secrets; print(secrets.token_urlsafe(64))"
#    - POSTGRES_PASSWORD: Strong password (20+ chars)
#    - REDIS_PASSWORD: Strong password (20+ chars)
#    - INITIAL_ADMIN_PASSWORD: Strong password (12+ chars)
#
# 2. Update domain names:
#    - FRONTEND_URL: Your pre-production frontend URL
#    - CORS_ORIGINS: Add your pre-production domains
#
# 3. Configure email (if needed):
#    - Set SMTP credentials for email notifications
#
# 4. Save as .env.preprod and keep it secure
#
# 5. DO NOT commit this file to version control!
# =============================================================================
